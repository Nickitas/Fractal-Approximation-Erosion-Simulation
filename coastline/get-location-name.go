package coastline

import "math"

// Определение названия по координатам
func getLocationName(p LatLon) string {
	// Порог в 0.15° ≈ 15–20 км
	const threshold = 0.15

	locations := map[[2]float64]string{
		{46.48, 30.73}: "Одесса, Украина",
		{45.33, 32.49}: "Евпатория, Крым",
		{44.94, 34.10}: "Алушта, Крым",
		{44.62, 33.53}: "Севастополь, Крым",
		{44.55, 38.10}: "Геленджик, Россия",
		{43.70, 39.75}: "Сочи, Россия",
		{43.58, 39.72}: "Адлер, Россия",
		{42.00, 41.58}: "Сухум, Абхазия",
		{42.15, 41.65}: "Поти, Грузия",
		{41.65, 41.63}: "Батуми, Грузия",
		{41.55, 41.57}: "Чорох (граница)",
		{41.02, 40.27}: "Трабзон, Турция",
		{41.00, 39.65}: "Орду, Турция",
		{41.28, 31.42}: "Синоп, Турция",
		{43.00, 28.00}: "Варна, Болгария",
	}

	for coords, name := range locations {
		if math.Abs(p.Lat-coords[0]) < threshold && math.Abs(p.Lon-coords[1]) < threshold {
			return name
		}
	}
	return "—"
}
